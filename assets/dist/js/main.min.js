!function i(o,d,c){function s(e,n){if(!d[e]){if(!o[e]){var t="function"==typeof require&&require;if(!n&&t)return t(e,!0);if(l)return l(e,!0);var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}var r=d[e]={exports:{}};o[e][0].call(r.exports,function(n){return s(o[e][1][n]||n)},r,r.exports,i,o,d,c)}return d[e].exports}for(var l="function"==typeof require&&require,n=0;n<c.length;n++)s(c[n]);return s}({1:[function(n,e,t){"use strict";jQuery(document).ready(function(i){var n,e,o,d,t,c,a,r,s;if(i(".dni-link").length)if(i(".csa-dni").data("phone-id")&&(n=i(".csa-dni").data("phone-id")),i(".csa-dni").data("dni-var")&&(e=i(".csa-dni").data("dni-var")),i(".csa-dni").data("dni-tag")&&(t=i(".csa-dni").data("dni-tag")),i(".csa-dni").data("character-mask")&&(o=i(".csa-dni").data("character-mask")),i(".csa-dni").data("phone-pattern")&&(d=i(".csa-dni").data("phone-pattern")),i(".csa-dni").data("dni-number")&&(c=i(".csa-dni").data("dni-number").toString()),i(".csa-dni").data("phone-default")&&(a=i(".csa-dni").data("phone-default").toString()),i(".csa-dni").data("last-resort")&&i(".csa-dni").data("last-resort").toString(),i(".csa-dni").data("referrer-list")&&i(".csa-dni").data("referrer-list"),i(".csa-dni").data("referrer")&&i(".csa-dni").data("referrer").toString(),i(".csa-dni").data("referrer-number")&&(s=i(".csa-dni").data("referrer-number").toString()),void 0!==e&&""!=e&&(!1!==(r=function(n,e){e||(e=window.location.href);n=n.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)").exec(e);return!!t&&!!t[2]&&decodeURIComponent(t[2].replace(/\+/g," "))}(e))?f("dni_tag",r,30):null!=(r=function(n){for(var e=encodeURIComponent(n)+"=",t=document.cookie.split(";"),a=0;a<t.length;a++){for(var r=t[a];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(e))return decodeURIComponent(r.substring(e.length,r.length))}return null}("dni_tag"))&&"null"!=r||(r=!1)),!1===r){var l;if(a!=c)if(console.log(JSON.stringify("DNI does not match. Correcting.")),console.log(JSON.stringify(s,null,4)),""!==s)!1!==(l=g(s,d,o))&&i(".dni-link").each(function(){i(this).attr("href","tel:"+s),i(this).html(l)});else!1!==(l=g(a,d,o))&&i(".dni-link").each(function(){i(this).attr("href","tel:"+a),i(this).html(l)});else console.log("Default DNI Match")}else{var u={action:"csa_challenge_number",dni_id:"",parent_phone_id:n,location_id:"",dni_tag:0==typeof r?t:r,dni_number:"",dni_description:"",dni_status:""};i.ajax({url:csa_ajaxobject.ajax_url,type:"POST",dataType:"json",data:u,error:function(n,e,t){console.log(JSON.stringify(t,null,4))},success:function(n,e,t){if("success"==n.message){var a=n.content[0];if(a!=c){console.log(JSON.stringify("DNI does not match. Correcting.")),console.log(JSON.stringify(s,null,4));var r=g(a,d,o);!1!==r&&i(".dni-link").each(function(){i(this).attr("href","tel:"+a),i(this).find("span").html(r)})}else console.log("DNI Match")}else console.log(JSON.stringify("No records returned.",null,4))}})}function f(n,e,t){var a;if(t){var r=new Date;r.setTime(r.getTime()+24*t*60*60*1e3),a="; expires="+r.toGMTString()}else a="";document.cookie=encodeURIComponent(n)+"="+encodeURIComponent(e)+a+"; path=/"}function g(n,e,t){if(n.length!==(e.match(new RegExp(t,"g"))||[]).length)return!1;var a,r=0,i="";for(a=0;a<e.length;a++)e[a]==t?(i+=n.charAt(r),r++):i+=e.charAt(a);return-1===i.indexOf(t)&&i}})},{}]},{},[1]);
//# sourceMappingURL=main.min.js.map
